!function(e){return e.global=document.createElement("dispatch"),e.events={},e.on=function(t,n){var a={ev:document.createEvent("Event"),fnc:n,data:null};a.ev.initEvent(t,!0,!0),a.fnc=function(){return n.call(a.ev,a.data)},e.events[t]=a,e.global.addEventListener?e.global.addEventListener(t,a.fnc,!1):e.global.attachEvent(t,a.fnc)},e.off=function(t){var n=e.events[t];e.global.removeEventListener?e.global.removeEventListener(n.ev.type,n.fnc):e.global.detachEvent(n.ev.type,n.fnc),delete e.events[t]},e.trigger=function(t,n){var a=e.events[t];a.data=n,e.global.addEventListener?e.global.dispatchEvent(a.ev):e.global.fireEvent(a.ev)},e}(window.dispatch=window.dispatch||{});