!function(a){return a.global=document.createElement("dispatch"),a.events={},a.on=function(b,c){var d={ev:document.createEvent("Event"),fnc:c,data:null};d.ev.initEvent(b,!0,!0),d.fnc=function(){return c.call(d.ev,d.data)},a.events[b]=d,a.global.addEventListener?a.global.addEventListener(b,d.fnc,!1):a.global.attachEvent(b,d.fnc)},a.off=function(b){var c=a.events[b];a.global.removeEventListener?a.global.removeEventListener(c.ev.type,c.fnc):a.global.detachEvent(c.ev.type,c.fnc),delete a.events[b]},a.trigger=function(b,c){var d=a.events[b];d.data=c,a.global.addEventListener?a.global.dispatchEvent(d.ev):a.global.fireEvent(d.ev)},a}(window.dispatch=window.dispatch||{});